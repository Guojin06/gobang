# 从零到懂：在线五子棋项目重启学习指南

> 面向场景：已经遗忘大部分内容，需要快速重回状态并逐步吃透项目。

## 一、先看总览导图
- 在对话顶部我已生成“在线五子棋项目 - 总览”的思维导图，涵盖：
  - 通信与会话（WebSocket、session）
  - 业务核心（online 在线状态、room 房间/对局）
  - 数据与存储（db 接口与 db.sql 结构）
  - 工具与基础设施（util、logger）
  - 入口与集成（gobang.cc）

建议：先扫一眼，心里有框架，再细学模块。

## 二、学习顺序（由易到难、由底层到业务）
1) 基础设施：`util.hpp` → `logger.hpp`
2) 数据层：`db.sql` → `db.hpp`
3) 通信与会话：`session.hpp`
4) 在线管理：`online.hpp`
5) 业务核心：`room.hpp`
6) 入口与联调：`gobang.cc`

## 三、每个模块如何学（固定流程）
1) 结构速览：类/成员/方法，先不抠细节
2) 关键语法卡点：并发/模板/智能指针/RAII/异常等
3) 跑一个“极小练习”：只验证1-2个核心点
4) 记一段自己的话：1-2段话概括这个模块“解决了什么问题”
5) 画小图：数据流或状态流（可用 Mermaid）

## 四、今晚与本周执行计划（可直接照抄执行）
- 今日（周一，晚2小时）：
  - 20min：看导图 + 学习法
  - 40min：`online.hpp` 精读与练习（查/插/删 + 线程安全）
  - 40min：`session.hpp` 速览 + 过期/永久定时机制理解

- 明天（周二）：
  - 60min：`util.hpp`（JSON、split、文件）+ 练习
  - 60min：`logger.hpp`（宏、日志级别）+ 练习

- 周三：
  - 60min：`db.sql` 表结构 + `db.hpp` 接口
  - 60min：MySQL 登录/注册/胜场更新小练习（可用 mock）

- 周四-周五：
  - 两晚合计4小时：`room.hpp` 分两段啃完（房间生命周期、广播逻辑）

- 周六：
  - 2小时：`gobang.cc` 串联 + 画项目时序图 + 项目亮点总结

## 五、遇到“语法不熟”怎么办（极简套路）
- 优先查：关键词 + cppreference（例："unique_lock"、"unordered_map find"）
- 只抄“最短可跑例子”，不要陷在大篇文档
- 抄到练习文件里跑一遍，留注释
- 不懂就问，并把问答抄到当天笔记

## 六、落地文件与产出
- 学习计划：`learn/plan_20240629_0706.md`（已建）
- 今日/本周笔记：`learn/notes_20250630.md`（今日已更）
- 重启指南：本文件 `learn/restart_guide.md`
- 练习代码：`learn/practice/*`

## 七、先做两个热身练习（今晚）
1) 在线映射（`online.hpp`）：
   - 建 `unordered_map<uint64_t, std::string>`，多线程插入/查询/删除
   - 用 `std::mutex + std::unique_lock` 包裹
2) 会话过期（`session.hpp` 思路练习）：
   - 伪代码：给 session 设置“过期/永久”，切换时取消/重置计时器（用注释说明你理解）

完成后，把你的代码和理解贴到今天笔记里，我来验收与纠错。
