# 学习笔记 - 2024-06-24

## 今日学习目标
- 理解 util.hpp（工具函数）
- 理解 logger.hpp（日志系统）
- 理解 db.hpp 和 db.sql（数据库接口与表结构）

## 学习模块1：util.hpp（工具函数）

### 核心功能
util.hpp 提供了项目中常用的工具函数，包括：
1. JSON 序列化/反序列化
2. 字符串处理
3. 文件操作
4. MySQL 数据库操作

### 重要语法点

#### 1. 命名空间（namespace）
```cpp
namespace json_util {
    // JSON相关函数
}

namespace string_util {
    // 字符串处理函数
}
```
**语法解释**：
- `namespace` 用于组织代码，避免命名冲突
- 使用 `::` 访问命名空间中的函数：`json_util::serialize()`

#### 2. 函数重载
```cpp
// 同一个函数名，不同参数类型
bool serialize(const Json::Value& root, std::string& body);
bool unserialize(const std::string& body, Json::Value& root);
```
**语法解释**：
- 函数重载：同名函数，参数不同
- `const` 修饰符：表示参数不会被修改
- `&` 引用：避免复制，提高效率

#### 3. 模板函数
```cpp
template<typename T>
T max(T a, T b) {
    return (a > b) ? a : b;
}
```
**语法解释**：
- `template<typename T>`：模板声明
- `T` 是类型参数，可以是任何类型
- 使用时：`max<int>(10, 20)` 或 `max(10, 20)`（自动推导）

#### 4. 异常处理
```cpp
try {
    // 可能出错的代码
    json_util::serialize(root, body);
} catch (const std::exception& e) {
    // 处理异常
    std::cerr << "错误: " << e.what() << std::endl;
}
```
**语法解释**：
- `try-catch`：异常处理机制
- `const std::exception& e`：捕获异常对象
- `e.what()`：获取错误信息

### 实际应用示例
```cpp
// JSON处理示例
Json::Value root;
root["name"] = "张三";
root["age"] = 25;

std::string body;
if (json_util::serialize(root, body)) {
    std::cout << "序列化结果: " << body << std::endl;
}

// 字符串分割示例
std::string str = "apple,banana,orange";
std::vector<std::string> fruits;
string_util::split(str, ",", fruits);
```

## 学习心得
1. 工具函数是项目的基础，理解它们有助于理解整个项目
2. 命名空间的使用让代码更有组织性
3. 函数重载和模板让代码更灵活
4. 异常处理让程序更健壮

## 明日计划
1. 继续学习 logger.hpp
2. 学习 db.hpp 和 db.sql
3. 完成相关练习 